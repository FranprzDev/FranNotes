## El modelo de casos de uso

El modelo de casos de uso en el Proceso Unificado (UP) es un conjunto de todos los casos de uso; es un modelo de la funcionalidad y el entorno del sistema. Los casos de uso son una técnica esencial para comprender y describir los requisitos de un sistema de software.

Estos son algunos puntos importantes sobre los casos de uso y el modelo de casos de uso:
- **Priorizar el valor**: Una idea clave del modelado de casos de uso es enfocarse en cómo un sistema puede agregar valor y cumplir los objetivos del usuario. Se trata de preguntar: "¿Cómo puedo, utilizando el sistema, proporcionar un valor observable al usuario o cumplir sus objetivos?" en lugar de simplemente enumerar características o funciones.
- **Requisitos funcionales**: Los casos de uso son principalmente requisitos funcionales que indican qué hará el sistema desde una perspectiva externa, sin dictar cómo se implementará internamente. Definen un contrato del comportamiento esperado del sistema.
- **Priorizar el texto**: Los casos de uso son documentos de texto, no diagramas. Aunque UML define diagramas de casos de uso, la esencia del modelado de casos de uso reside en escribir las historias de uso, no en dibujar diagramas.
- **Tipos y formatos**:
    - Los casos de uso de **"caja negra"** se enfocan en lo que hace el sistema, no en cómo lo hace, lo que permite especificar los requisitos funcionales sin entrar en detalles de diseño.
    - Existen diferentes formatos de casos de uso: **breve**, **informal** y **completo**, cada uno con diferentes niveles de detalle.
    - El formato de caso de uso **"esencial"**, se centra en las intenciones del usuario y las responsabilidades del sistema, evitando detalles tecnológicos o de la interfaz de usuario.
- **Centrarse en el nivel correcto**:
    - Los casos de uso deben describir los **Procesos de Negocio Elementales (EBP)**, que son tareas de nivel superior que representan un valor comercial tangible.
    - Evite definir casos de uso para pasos simples o subfunciones dentro de un EBP, a menos que se repitan en varios casos de uso.
- **Iterativo e incremental**:
    - El modelo de casos de uso se construye **iterativamente** a lo largo del desarrollo, comenzando con una comprensión de alto nivel y refinando gradualmente los detalles.
    - En cada iteración, se seleccionan y detallan algunos casos de uso o escenarios de casos de uso para guiar el diseño y la implementación.
- **Dirigir el diseño**:
    - Las **realizaciones de casos de uso** describen cómo se implementan los casos de uso en el diseño del sistema, mostrando los objetos que colaboran para llevar a cabo el comportamiento descrito.
    - El equipo de desarrollo diseña objetos y subsistemas que colaboran para ejecutar o realizar los casos de uso.
- **Guías para el desarrollo**:
    - El modelo de casos de uso sirve como base para la planificación de iteraciones, estimaciones, pruebas y la creación de manuales de usuario.
    - Los casos de uso también pueden informar el modelo de dominio, que describe las clases conceptuales clave y sus relaciones dentro del dominio del problema.

## Cómo Escribir un Caso de Uso: Formato y Detalles

Para escribir un caso de uso, especialmente en el contexto del Proceso Unificado (UP), se recomienda seguir un formato estructurado y considerar diferentes niveles de detalle.

### Formato de Caso de Uso Completo

El formato de caso de uso "completo" es el más detallado y proporciona una comprensión profunda del caso de uso. Una plantilla popular para este formato es la que se encuentra en www.usecases.org.

Aquí te presento las secciones comunes de un caso de uso completo y su significado:

- **Nombre**: Un nombre claro y conciso que describa el objetivo del caso de uso, comenzando con un verbo. Por ejemplo, "Procesar Venta", "Gestionar Devoluciones".
- **Alcance**: Define el sistema o subsistema al que se aplica el caso de uso.
- **Nivel**: Indica si el caso de uso describe un Proceso de Negocio Elemental (EBP) o una subfunción.
- **Actor principal**: El actor que inicia el caso de uso y tiene el objetivo principal que se cumplirá.
- **Personal involucrado e intereses**: Una tabla que lista a todos los actores (incluidos sistemas externos) que interactúan con el caso de uso y sus intereses u objetivos específicos en el caso de uso.
- **Precondiciones**: Condiciones que deben ser verdaderas antes de que el caso de uso pueda comenzar. No se verifican dentro del caso de uso, se asumen como ciertas.
- **Garantías de éxito (Postcondiciones)**: Condiciones que serán verdaderas después de que el caso de uso se complete con éxito. Describen los cambios en el estado del sistema.
- **Flujo básico (Escenario principal de éxito)**: Describe la secuencia normal de pasos que se toman cuando el caso de uso se ejecuta con éxito, satisfaciendo los intereses del personal involucrado.
- **Extensiones (Flujos alternativos)**: Describen variaciones, ramificaciones o excepciones al flujo básico. Cada extensión incluye una condición que la activa y los pasos específicos que se toman.
- **Requisitos especiales**: Requisitos no funcionales específicos del caso de uso, como rendimiento, seguridad o usabilidad.
- **Frecuencia**: Con qué frecuencia se espera que se ejecute el caso de uso.
- **Temas abiertos**: Cuestiones pendientes, decisiones de diseño por tomar o información faltante.

### Ejemplo de Caso de Uso Completo:

**Nombre**: Procesar Venta **Alcance**: Sistema de Punto de Venta (PDV) **Nivel**: Objetivo de usuario (EBP) **Actor principal**: Cajero **Personal involucrado e intereses**:

| **Personal Involucrado** | **Intereses**                            |
| ------------------------ | ---------------------------------------- |
| Cajero                   | Registrar la venta, aceptar el pago, ... |
| Cliente                  | Comprar artículos, recibir un recibo,... |
| Sistema de Inventario    | Actualizar el inventario                 |
| Sistema de Contabilidad  | Registrar la venta, las comisiones, ...  |

**Precondiciones**:

- El cajero está identificado y autenticado en el sistema.

**Garantías de éxito**:

- Se registra la venta.
- El impuesto se calcula correctamente.
- Se actualizan los sistemas de Contabilidad e Inventario.
- Se registran las comisiones (si corresponde).
- Se genera el recibo.

**Flujo básico**:

1. El Cliente llega al terminal PDV con artículos para comprar.
2. El Cajero inicia una nueva venta.
3. El Cajero introduce el identificador del artículo.
4. El Sistema registra la línea de venta y presenta la descripción del artículo, precio y suma parcial.
5. El Cajero repite los pasos 3 y 4 hasta que se hayan ingresado todos los artículos.
6. El Cajero indica que la venta está completa.
7. El Sistema calcula el total, incluyendo los impuestos.
8. El Cajero le indica al Cliente el total y le solicita el pago.
9. El Cliente realiza el pago.
10. El Sistema procesa el pago.
11. El Sistema imprime el recibo.
12. El Cliente recibe el recibo.

**Extensiones**:

- **3a**: El artículo no se encuentra en el catálogo.
    
    1. El Sistema muestra un mensaje de error.
    2. El Cajero puede ingresar manualmente el ID del artículo o cancela la línea de venta.
- **9a**: Pago con tarjeta de crédito.
    
    1. El Cliente introduce su tarjeta de crédito en el lector.
    2. El Sistema solicita autorización al Servicio de Autorización de Pagos.

**Requisitos especiales**:

- El tiempo de respuesta del sistema para registrar un artículo no debe exceder los 2 segundos.

**Frecuencia**:

- Este caso de uso se ejecuta con mucha frecuencia, potencialmente cientos de veces al día.

**Temas abiertos**:

- ¿Cómo se manejan las devoluciones?
- ¿Qué información se imprime en el recibo?

### Estilos de Casos de Uso:

- **Caja negra**: Describe las responsabilidades del sistema desde una perspectiva externa, sin revelar detalles de implementación.
- **Esencial**: Se centra en la intención del actor y el resultado deseado, evitando decisiones de diseño de la interfaz de usuario.

### Otros Formatos:

- **Breve**: Un resumen conciso de un párrafo, útil para una descripción inicial.
- **Informal**: Varios párrafos que cubren diferentes escenarios, adecuado para una comprensión general.

### Recordatorios Importantes:

- **Priorizar el texto**: Si bien los diagramas de casos de uso pueden ser útiles para visualizar las relaciones entre los casos de uso, la parte esencial del modelado de casos de uso es la escritura de las historias de uso en sí.
- **Centrarse en el valor y los objetivos**: Al escribir casos de uso, concéntrese en cómo el sistema agrega valor y cumple los objetivos del usuario.
- **Iterativo e incremental**: El modelo de casos de uso se construye y refina iterativamente a lo largo del proyecto.

## Resumen del Diagrama de Secuencia del Sistema (DSS) en UML y Patrones

El **Diagrama de Secuencia del Sistema (DSS)** es una herramienta en UML utilizada para modelar el comportamiento de un sistema de software desde una perspectiva de "caja negra", sin entrar en detalles de su implementación interna. Este diagrama se enfoca en la interacción entre actores externos y el sistema como un todo, mostrando los eventos que se intercambian y su orden temporal.

Aquí te presento un resumen de los elementos clave del DSS en UML y su relación con los patrones de diseño:

### Elementos del DSS en UML:

- **Actores Externos**: Representados como figuras con forma de "hombre de palo", los actores externos son entidades que interactúan con el sistema, como usuarios, otros sistemas o dispositivos externos.
- **Sistema**: Representado como una caja negra, generalmente con el nombre "Sistema", el DSS no muestra los componentes internos del sistema, sino que lo trata como una sola unidad.
- **Líneas de Vida**: Líneas verticales punteadas que representan la existencia de un actor o sistema en el tiempo.
- **Mensajes (Eventos del Sistema)**: Flechas horizontales que van de un actor o sistema a otro, representando los eventos o interacciones entre ellos.
    - Los mensajes pueden ser síncronos (el emisor espera una respuesta) o asíncronos (el emisor no espera una respuesta).
    - Los mensajes pueden tener parámetros, que representan información adicional transmitida durante la interacción.
    - El nombre del mensaje debe ser conciso y comenzar con un verbo, describiendo la acción solicitada o la información transmitida.
- **Operadores de Control**: Aunque no son tan comunes en los DSS como en otros diagramas de secuencia, se pueden usar para mostrar control de flujo básico, como bucles o condiciones.

### Relación con Patrones:

- **Controlador**: El patrón Controlador, parte de los patrones GRASP, se puede aplicar al diseñar la implementación del comportamiento del sistema descrito en el DSS. Un controlador es un objeto responsable de recibir y manejar los eventos del sistema, delegando el trabajo a otros objetos en el sistema. El DSS puede ayudar a identificar qué controlador es responsable de manejar cada evento del sistema.

### Beneficios de usar DSS:

- **Comprender el Comportamiento del Sistema**: El DSS ayuda a visualizar cómo los actores interactúan con el sistema, clarificando los eventos intercambiados y su orden.
- **Identificar Operaciones del Sistema**: El DSS puede ayudar a identificar las operaciones que el sistema debe realizar para responder a los eventos del sistema.
- **Comunicación con los Stakeholders**: El DSS es una herramienta de comunicación útil para discutir el comportamiento del sistema con usuarios, analistas y otros stakeholders.

### Consejos al crear un DSS:

- **Enfoque en la "Caja Negra"**: No intentes representar los detalles internos del sistema en el DSS. El enfoque debe estar en la interacción entre los actores externos y el sistema como un todo.
- **Nombres claros y concisos**: Usa nombres descriptivos para los actores, mensajes y otros elementos del diagrama.
- **Nivel de Abstracción Adecuado**: El nivel de detalle del DSS debe ser adecuado para el propósito del modelo. No es necesario incluir todos los eventos posibles, solo los más importantes para comprender el comportamiento del sistema.

Recuerda que el DSS es solo una herramienta de modelado y no pretende ser una representación completa de todos los aspectos del sistema. Su objetivo principal es proporcionar una comprensión de alto nivel del comportamiento del sistema desde una perspectiva externa.

## Entendiendo los Diagramas de Secuencia del Sistema: Sintaxis y Buenas Prácticas

Un diagrama de secuencia del sistema ilustra la interacción entre actores externos y un sistema de software, mostrando el intercambio de mensajes (eventos del sistema) en orden cronológico. Si bien UML no define un tipo específico de "diagrama de secuencia del sistema", se distingue por su enfoque en el sistema como una "caja negra", sin revelar detalles de implementación interna.

### Sintaxis Básica:

Un diagrama de secuencia del sistema se compone de los siguientes elementos:

- **Actores**:
    
    - Representados como figuras estilizadas de personas (stick figures), los actores interactúan con el sistema desde el exterior.
    - Pueden ser usuarios, otros sistemas o dispositivos externos.
    - Es importante nombrarlos claramente, reflejando su rol en la interacción con el sistema.
- **Sistema**:
    
    - Se representa como una caja rectangular, a menudo etiquetada como "Sistema".
    - No se muestran sus componentes internos, ya que se trata como una sola unidad.
- **Líneas de Vida**:
    
    - Líneas verticales discontinuas que se extienden hacia abajo desde cada actor y el sistema.
    - Representan la existencia del actor o sistema a lo largo del tiempo.
- **Mensajes (Eventos del Sistema)**:
    
    - Flechas horizontales que conectan las líneas de vida de los actores y el sistema.
    - Representan los eventos o las interacciones que ocurren entre ellos.
    - Se dibujan en orden cronológico, de arriba hacia abajo.
    - **Formato**:
        - **Nombre del Mensaje**: Comienza con un verbo que describe la acción o información.
            - Es preferible usar un lenguaje abstracto y evitar detalles de implementación. Por ejemplo, "introducirArticulo" es mejor que "escanear".
        - **Parámetros**: Entre paréntesis después del nombre, si corresponde.
            - Representan información adicional que se transmite durante la interacción.
        - **Ejemplo**: `introducirArticulo(articuloID, cantidad)`
- **Tipos de Mensajes**:
    
    - **Síncronos**: El emisor espera una respuesta del receptor antes de continuar. Representados por una flecha con línea continua y una punta de flecha sólida.
    - **Asíncronos**: El emisor no espera una respuesta del receptor para continuar. Representados por una flecha con línea continua y una punta de flecha abierta.

### Elementos Adicionales:

Aunque son menos comunes en los DSS, también se pueden usar:

- **Operadores de Control**: Para modelar flujos de control básicos, como bucles y condiciones. Ejemplos:
    - **"alt" (alternativo)**: Representa una elección entre diferentes caminos de ejecución.
    - **"loop" (bucle)**: Representa una secuencia de acciones que se repite.

### Buenas Prácticas para un Buen Diagrama:

Un buen diagrama de secuencia del sistema debe ser:

- **Claro y conciso**:
    
    - Centrarse en la interacción principal entre los actores y el sistema, evitando detalles innecesarios.
    - Limitar el número de mensajes a los esenciales para comprender el escenario principal de éxito.
- **Focalizado**:
    
    - Representar un escenario específico de un caso de uso a la vez. Se recomienda crear un DSS para el escenario principal de éxito y otros escenarios complejos o frecuentes.
- **Bien organizado**:
    
    - Disponer los actores y el sistema de manera lógica, facilitando la lectura del diagrama.
    - Usar un espaciado adecuado entre los elementos para evitar la saturación visual.
- **Abstracto**:
    
    - Usar nombres de mensajes y parámetros que sean independientes de la implementación, utilizando un lenguaje que los stakeholders puedan entender.
    - Evitar mostrar detalles internos del sistema o de la interfaz de usuario.

### Conexión con el Diseño:

El DSS sirve como punto de partida para el diseño de la implementación del sistema.

- **Identificación de Operaciones**: El DSS ayuda a identificar las operaciones que el sistema debe ofrecer para responder a los eventos del sistema. Estas operaciones se convierten en la base para definir la interfaz pública del sistema.
    
- **Patrón Controlador**: Los DSS pueden ayudar a determinar qué controlador es responsable de manejar cada evento del sistema. El patrón Controlador, parte de los patrones GRASP, se utiliza para asignar la responsabilidad de manejar un evento a un objeto específico.
    

### Resumen:

Un diagrama de secuencia del sistema es una herramienta valiosa durante el análisis de requisitos y el diseño de alto nivel de un sistema. Su sintaxis simple y su enfoque en la "caja negra" lo convierten en una forma efectiva de comunicar el comportamiento del sistema a los stakeholders y guiar el diseño de la implementación.

## Contratos en el Desarrollo de Software Orientado a Objetos

En el desarrollo de software orientado a objetos, los contratos son una herramienta valiosa para definir con precisión el comportamiento del sistema. Describen el resultado esperado de la ejecución de operaciones del sistema, centrándose en los cambios de estado de los objetos del dominio. Si bien los casos de uso proporcionan una descripción general del comportamiento del sistema, los contratos ofrecen una vista más detallada y rigurosa, especialmente útil cuando se trata de operaciones complejas.

### Conceptos Básicos de los Contratos

- **Propósito**: Los contratos especifican formalmente qué debe suceder cuando se ejecuta una operación del sistema, sin dictar cómo se implementará esa operación.
- **Nivel de Detalle**: Los contratos permiten un análisis preciso de los requisitos, detallando los cambios de estado necesarios en los objetos del dominio.
- **Enfoque Declarativo**: Las postcondiciones de un contrato se escriben en un estilo declarativo, describiendo el estado deseado después de la ejecución, no el procedimiento para llegar a ese estado.

### Componentes de un Contrato

Un contrato generalmente consta de las siguientes secciones:

- **Operación**: Nombre de la operación y sus parámetros.
- **Referencias Cruzadas**: (Opcional) Casos de uso relacionados con la operación.
- **Precondiciones**: Condiciones que se asumen como verdaderas antes de la ejecución.
- **Postcondiciones**: Afirmaciones sobre el estado del sistema después de la ejecución.

### Creación de un Contrato

Para crear un contrato, siga estos pasos:

1. **Identificar Operaciones del Sistema**: Extraiga las operaciones del sistema de los diagramas de secuencia del sistema (DSS).
2. **Seleccionar Operaciones Complejas**: Enfóquese en operaciones con resultados complejos, sutiles o no evidentes en la descripción del caso de uso.
3. **Definir Precondiciones**: Enumere las suposiciones relevantes sobre el estado del sistema antes de la ejecución.
4. **Escribir Postcondiciones**: Especifique los cambios de estado esperados en los objetos del dominio después de la ejecución.

### Ejemplo de Contrato

**Operación**: `introducirArticulo(artID: IDProducto, cantidad: Entero)`

**Referencias Cruzadas**: Caso de uso "Procesar Venta".

**Precondiciones**:

- Existe una venta en curso.
- El producto con ID `artID` está disponible en el inventario.

**Postcondiciones**:

- Se crea una nueva instancia de `LineaDeVenta`.
- `LineaDeVenta.cantidad` se establece en `cantidad`.
- `LineaDeVenta` se asocia con la venta actual.
- Se actualiza el inventario del producto con ID `artID`.

### Consideraciones Adicionales

- **Completitud**: No es necesario crear contratos para todas las operaciones del sistema, solo para aquellas que lo justifiquen por su complejidad.
- **Colaboración**: Involucre a expertos en la materia para validar la precisión de los contratos.
- **Actualizaciones**: Revise y actualice los contratos a medida que evolucionan los requisitos del sistema.

### Relación con los Casos de Uso

Los contratos complementan los casos de uso, proporcionando un nivel adicional de detalle. Si bien los casos de uso describen el flujo general de eventos, los contratos se centran en los efectos específicos de las operaciones en los objetos del dominio. Son especialmente útiles cuando la complejidad de una operación requiere una especificación precisa de los cambios de estado.

### Beneficios de los Contratos

- **Claridad**: Definen inequívocamente el comportamiento esperado de las operaciones.
- **Precisión**: Permiten un análisis riguroso de los requisitos, reduciendo ambigüedades.
- **Comunicación**: Facilitan la comunicación entre desarrolladores y expertos en la materia.
- **Mantenimiento**: Simplifican el mantenimiento del sistema al documentar claramente el comportamiento.

### Conclusión

Los contratos son una herramienta poderosa para el desarrollo de software orientado a objetos, que proporciona una especificación precisa y detallada del comportamiento del sistema. Si bien son opcionales, su uso es altamente recomendable para operaciones complejas, donde la claridad y la precisión son esenciales.

## Explorando el Modelo del Dominio

El modelo del dominio es una herramienta crucial en el desarrollo de software orientado a objetos, especialmente en el contexto del Análisis y Diseño Orientado a Objetos (A/DOO). Su función principal es representar visualmente las abstracciones y la información esenciales del dominio del problema, actuando como un "diccionario visual" para el equipo de desarrollo.

### Propósito del Modelo del Dominio

El modelo del dominio no busca representar la solución de software en sí misma, sino más bien el "mundo real" del dominio del problema. En lugar de clases de software, el modelo del dominio se compone de **clases conceptuales**, que representan las cosas importantes del dominio, sus atributos y las relaciones entre ellas.

### Elementos del Modelo del Dominio

- **Clases Conceptuales**: Representan las cosas importantes del dominio del problema, como productos, ventas, clientes, etc.. Es preferible un modelo con mayor granularidad, es decir, con más clases conceptuales que encapsulen conceptos específicos.
- **Atributos**: Describen las características o propiedades de las clases conceptuales. Por ejemplo, un "Producto" podría tener atributos como "nombre", "precio", "descripción", etc..
- **Asociaciones**: Representan las relaciones significativas entre las clases conceptuales. Se deben priorizar las asociaciones "necesito-conocer", es decir, aquellas relaciones que el sistema necesita mantener en memoria para cumplir con los requisitos.

### Creación del Modelo del Dominio

1. **Identificar Clases Conceptuales**: Se pueden utilizar diversas técnicas, como la identificación de frases nominales en los casos de uso y la creación de una lista de categorías de clases conceptuales.
2. **Representar Clases en el Modelo**: Utilizando la notación UML, se representan las clases conceptuales identificadas en un diagrama.
3. **Añadir Asociaciones**: Se establecen las relaciones "necesito-conocer" entre las clases, utilizando nombres claros y concisos.
4. **Incorporar Atributos**: Se añaden los atributos necesarios a cada clase conceptual para satisfacer los requisitos de información del sistema.

### Generalización y Otros Conceptos

- **Generalización**: Permite agrupar clases conceptuales con características comunes en superclases, mientras que las subclases heredan y especializan esas características.
- **Clases de Asociación**: Representan una relación específica entre dos clases que posee sus propios atributos o asociaciones.
- **Agregación**: Muestra una relación de "todo-parte" entre clases conceptuales.
- **Calificadores**: Permiten distinguir objetos en una asociación basándose en un valor específico.
- **Paquetes**: Se utilizan para organizar el modelo del dominio en grupos de elementos relacionados, mejorando la legibilidad y comprensión.

### Importancia del Modelo del Dominio

El modelo del dominio sirve como base para la comunicación entre expertos del dominio y el equipo de desarrollo. Facilita la identificación de conceptos clave, la definición de un lenguaje común y la detección temprana de ambigüedades en los requisitos.

### Relación con el Modelo de Diseño

Si bien el modelo del dominio se centra en el problema, el modelo de diseño representa la solución de software. Sin embargo, ambos modelos están estrechamente relacionados. Las clases conceptuales del modelo del dominio a menudo sirven como inspiración para la creación de clases de software en el modelo de diseño, particularmente en la capa del dominio.

## Técnicas para Identificar Clases Conceptuales en el Modelo del Dominio

El proceso de identificar clases conceptuales para el modelo del dominio es fundamental en el Análisis y Diseño Orientado a Objetos. Se trata de descubrir y representar las "cosas" importantes en el dominio del problema. Las fuentes proporcionan varias estrategias para esta tarea:

**1. Lista de Categorías de Clases Conceptuales:**

Esta técnica, mencionada en, implica considerar categorías comunes de clases que suelen ser relevantes en diversos dominios. A continuación, se presenta una adaptación de la tabla del libro "UML y Patrones", con ejemplos adicionales:

| Categoría de Clase Conceptual    | Ejemplos                                                  |
| -------------------------------- | --------------------------------------------------------- |
| Objetos Físicos o Tangibles      | `Registro`, `Avión`, `Producto`                           |
| Especificaciones o Descripciones | `EspecificaciónDelProducto`, `DescripciónDelVuelo`        |
| Lugares                          | `Tienda`, `Almacén`, `Ciudad`                             |
| Transacciones                    | `Venta`, `Pago`, `Reserva`, `Transferencia`               |
| Líneas de Transacción            | `LíneaDeVenta`, `ÍtemPedido`                              |
| Roles de Personas                | `Cajero`, `Piloto`, `Cliente`, `Vendedor`                 |
| Contenedores                     | `Tienda`, `Lata`, `Avión`, `CarritoCompra`                |
| Cosas en un Contenedor           | `Artículo`, `Pasajero`, `Producto`                        |
| Sistemas Externos                | `SistemaAutorizacionPagoCredito`, `ControlDeTraficoAereo` |
| Conceptos Abstractos             | `Ansia`, `Acrofobia`, `Descuento`, `Categoría`            |
| Organizaciones                   | `DepartamentoDeVentas`, `CompañíaAerea`                   |
| Hechos                           | `Venta`, `Pago`, `Reunión`, `Vuelo`                       |
| Instrumentos Financieros         | `LíneaDeCrédito`, `Stock`, `Acción`                       |
| Documentos                       | `ListaDeCambiosDePreciosDiarios`, `ManualReparaciones`    |

**2. Identificación de Frases Nominales:**

Esta técnica, presentada en, propone analizar los casos de uso y otros documentos de requisitos para identificar nombres y frases nominales. Estas frases a menudo representan clases conceptuales o atributos candidatos. Sin embargo, se debe aplicar el sentido común y el conocimiento del dominio, ya que el lenguaje natural puede ser ambiguo.

Por ejemplo, en el caso de uso "Procesar Venta", se podrían identificar frases como:

- "El **Cajero** introduce la cantidad de dinero..." -> `Cajero` (Clase Conceptual)
- "El Sistema registra el **pago en efectivo**" -> `PagoEnEfectivo` (Clase Conceptual)
- "El Sistema muestra la cantidad de **dinero a devolver**" -> `DineroADevolver` (Atributo de `Pago`)

**3. Combinación de Técnicas y Refinamiento Iterativo:**

Es importante **combinar ambas técnicas** para obtener una lista inicial de clases conceptuales. Esta lista se irá refinando a lo largo del proceso de desarrollo a medida que se comprenda mejor el dominio.

**4. Consideraciones Adicionales:**

- **No tenga miedo a la granularidad**: Es preferible un modelo con clases conceptuales específicas que representen conceptos bien definidos.
- **No se centre solo en la información**: Algunas clases pueden tener un rol puramente de comportamiento en el dominio, sin necesidad de atributos.
- **El contexto es clave**: La identificación de clases conceptuales debe estar guiada por los casos de uso y los requisitos del sistema que se está modelando.

**En resumen, la identificación de clases conceptuales es un proceso iterativo y colaborativo que requiere un análisis cuidadoso del dominio del problema.** No existe una única forma "correcta" de hacerlo, pero las técnicas mencionadas y la experiencia del equipo de desarrollo ayudarán a crear un modelo del dominio sólido y útil.

## Creación del Modelo de Dominio en "UML y Patrones" y la Función de "LíneaDeVenta"

El libro "UML y Patrones" no presenta un modelo de dominio completo en un solo paso. En cambio, lo construye **iterativamente**, añadiendo y refinando elementos a medida que avanza en el análisis y diseño del sistema de punto de venta NuevaEra.

A continuación, se describe el proceso paso a paso, basándose en los extractos proporcionados y considerando la información de nuestra conversación anterior:

**1. Identificación Inicial de Clases Conceptuales (Capítulo 10):**

- Se centra en el caso de uso principal: **Procesar Venta**.
- Utiliza técnicas como la **lista de categorías** (ej. "transacciones" -> `Venta`) y la **identificación de frases nominales** en el caso de uso (ej. "El **Cajero** introduce la cantidad..." -> `Cajero`).
- Prioriza las clases conceptuales más relevantes para este caso de uso en la iteración actual, sin buscar ser exhaustivo.
- Algunas clases identificadas en esta etapa son: `Venta`, `Registro`, `Articulo`, `Pago`, `Cajero`, `Cliente`, `EspecificaciónDelProducto`, `CatálogoDeProductos`.

**2. Representación Gráfica y Primeras Asociaciones (Capítulo 10 y 11):**

- Se crea un diagrama de clases UML para visualizar las clases conceptuales identificadas.
- Se establecen las primeras asociaciones, priorizando las relaciones "necesito-conocer" para el caso de uso actual.
- Se utilizan nombres claros y concisos para las asociaciones, describiendo la relación entre las clases.
- En esta etapa, se podría representar la relación entre `Venta` y `LíneaDeVenta` como "Contiene".

**3. Incorporación de Atributos (Capítulo 12):**

- Se añaden atributos a las clases conceptuales, basándose en la información necesaria para satisfacer los requisitos del caso de uso.
- Se evita el uso de atributos como claves foráneas, priorizando las asociaciones para representar las relaciones.
- Se define `LíneaDeVenta` con atributos como `cantidad`, reflejando la cantidad de un artículo específico en una venta.

**4. Refinamiento a través de Contratos de Operaciones (Capítulo 13):**

- Se crean contratos de operaciones para detallar el comportamiento del sistema, incluyendo pre y postcondiciones.
- El análisis de las postcondiciones puede revelar la necesidad de nuevas clases conceptuales, atributos o asociaciones.
- Se asegura que el modelo del dominio refleje las restricciones y reglas de negocio relevantes.

**5. Refinamiento Continuo durante el Diseño (Capítulos 14-17):**

- El modelo del dominio no es estático y se refina a medida que se avanza en el diseño de la solución de software.
- Durante el diseño de interacciones y la aplicación de patrones GRASP, pueden surgir nuevos conceptos o relaciones que se añaden al modelo.
- Se busca una correspondencia cercana entre las clases del modelo del dominio y las clases de software en la capa del dominio del modelo de diseño.

**La Función de "LíneaDeVenta":**

"LíneaDeVenta" representa una abstracción fundamental en el dominio de un sistema de punto de venta. **Su función principal es modelar las líneas individuales de artículos dentro de una venta**. Cada `LíneaDeVenta` se asocia a una `Venta` específica y a un `Articulo` específico, capturando la cantidad de ese artículo que se está vendiendo.

**Importancia de "LíneaDeVenta":**

- **Desglose de la Venta**: Permite registrar y procesar cada artículo de una venta por separado, calculando subtotales, aplicando descuentos individuales y gestionando el inventario de forma precisa.
- **Flexibilidad**: Facilita la adición, modificación o eliminación de artículos dentro de una venta sin afectar el procesamiento de otras líneas.
- **Información Detallada**: Proporciona información esencial para la generación de recibos, la gestión de devoluciones y el análisis de ventas.

**En resumen, "LíneaDeVenta" es una clase conceptual crucial en el modelo del dominio de un sistema de punto de venta, ya que permite modelar y gestionar la información de las líneas de artículos dentro de una venta de manera eficiente y flexible.**

## Generación de Clases Conceptuales a partir de Relaciones y la Función de la Generalización

Las fuentes se centran principalmente en identificar clases conceptuales a partir de objetos, transacciones o roles en el dominio del problema. Si bien no abordan explícitamente la creación de clases conceptuales **únicamente** a partir de relaciones, sí proporcionan información relevante para comprender este concepto:

- **Clases Asociación:** El libro "UML y Patrones" menciona las clases asociación al describir la clase `RespuestaAutorizacionPago` en el modelo de dominio de NuevaEra. Una clase asociación se utiliza cuando la relación entre dos clases tiene atributos o comportamiento propios que se quieren modelar explícitamente. En este caso, la respuesta de autorización no pertenece únicamente al pago o al servicio de autorización, sino que representa un concepto independiente con sus propios atributos.
    
- **Enfoque Centrado en la Información:** Si bien el libro "UML y Patrones" enfatiza la importancia de las relaciones "necesito-conocer", también reconoce la validez de modelar relaciones "sólo-comprensión" para enriquecer el modelo. Esto implica que una relación, aunque no sea esencial para el almacenamiento de información, puede ser lo suficientemente significativa en el dominio del problema como para justificar una clase conceptual.
    

**Ejemplo Hipotético:**

Imaginemos un sistema para modelar relaciones familiares. En lugar de tener solo clases para `Persona` y `Pariente`, podríamos necesitar una clase `RelaciónFamiliar` para representar detalles específicos de la relación entre dos personas. Esta clase podría tener atributos como:

- `tipoDeRelación` (ej. "Padre/Madre", "Hijo/Hija", "Primo/Prima")
- `fechaInicio`
- `fechaFin` (si aplica)
- `descripción` (para información adicional)

En este caso, la relación en sí misma se convierte en una entidad con atributos propios, justificando la creación de una clase conceptual.

## Generalización en el Modelo del Dominio

La **generalización** es un mecanismo fundamental en el modelado orientado a objetos que permite organizar las clases conceptuales en jerarquías, representando relaciones de "es-un-tipo-de".

**Funcionamiento:**

- **Superclase (Clase Padre):** Representa un concepto general o abstracto.
- **Subclase (Clase Hija):** Representa una especialización de la superclase, heredando sus atributos y comportamiento.

**Beneficios:**

- **Reutilización:** Evita la duplicación de atributos y comportamiento en clases similares.
- **Organización:** Crea un modelo más claro y estructurado, facilitando la comprensión del dominio.
- **Flexibilidad:** Permite añadir nuevas subclases sin modificar las existentes.

**Ejemplo del Libro:**

En el modelo de dominio de NuevaEra, se utiliza la generalización para representar los diferentes tipos de pago:

- `Pago` (Superclase): Representa el concepto general de una transacción de pago.
- `PagoEnEfectivo`, `PagoACrédito`, `PagoConCheque` (Subclases): Representan tipos específicos de pago, heredando los atributos y comportamiento de `Pago` (ej. `cantidad`).

**Consideraciones Adicionales:**

- **Regla del 100%:** La definición de una subclase debe ser 100% conforme con la definición de su superclase.
- **Regla "Es-un":** Se debe poder decir que una instancia de una subclase "es-un" tipo de la superclase.
- **Clases Abstractas:** No todas las clases conceptuales necesitan tener instancias concretas. Las clases abstractas se utilizan para representar conceptos generales o incompletos.

**En resumen, la generalización es una herramienta poderosa para modelar relaciones "es-un-tipo-de" entre clases conceptuales, mejorando la organización, la reutilización y la flexibilidad del modelo del dominio.**

## La Inclusión de Elementos Gráficos en el Modelo del Dominio

La pregunta de si los elementos gráficos deben formar parte del Modelo del Dominio no tiene una respuesta única y definitiva en las fuentes proporcionadas. Sin embargo, podemos analizar la información disponible para obtener una comprensión más profunda de esta cuestión:

**Énfasis en lo Conceptual:**

Tanto "LenguajeUnificadoDeModelado_GuiaDelUsuario_2daEd.pdf" como "Uml_y_Patrones_2daEd.pdf" enfatizan que el Modelo del Dominio debe centrarse en representar las **clases conceptuales** del dominio del problema, más que los detalles de implementación o la interfaz de usuario.

**El Rol del Diccionario Visual:**

"Uml_y_Patrones_2daEd.pdf" describe el Modelo del Dominio como un "diccionario visual de las abstracciones relevantes, vocabulario del dominio e información del dominio". Esta descripción sugiere que el objetivo principal es **comunicar los conceptos clave** del dominio de manera clara y concisa.

**Consideraciones Adicionales:**

- **Complejidad Visual:** La inclusión de elementos gráficos podría aumentar la complejidad visual del modelo, dificultando su comprensión, especialmente si no aportan información conceptual significativa.
- **Abstracción:** El Modelo del Dominio debería representar el problema a un alto nivel de abstracción. Los elementos gráficos, a menudo, representan detalles de implementación que son más relevantes en etapas posteriores del desarrollo.
- **Herramientas CASE:** Las herramientas CASE modernas permiten asociar información adicional, como imágenes o diagramas de interfaz de usuario, a las clases conceptuales sin necesidad de incluirlas directamente en el diagrama del Modelo del Dominio.

**Conclusión:**

Basándonos en la información de las fuentes, **se recomienda no incluir elementos gráficos directamente en el diagrama del Modelo del Dominio**. El objetivo principal de este modelo es comunicar los conceptos clave y las relaciones del dominio de manera clara y concisa, utilizando principalmente la notación UML para clases, atributos y asociaciones.

**Alternativas:**

- **Documentación Complementaria:** Se pueden utilizar otros artefactos, como glosarios, documentos de requisitos o prototipos de interfaz de usuario, para describir los aspectos visuales del sistema.
- **Anotación en Herramientas CASE:** Se pueden asociar imágenes o diagramas de interfaz de usuario a las clases conceptuales en las herramientas CASE, manteniendo la claridad visual del diagrama principal del Modelo del Dominio.

**En resumen, la inclusión de elementos gráficos en el Modelo del Dominio podría no ser la mejor práctica, ya que podría afectar negativamente a la claridad y la abstracción del modelo. Se recomienda utilizar otros mecanismos para documentar los aspectos visuales del sistema.**

## Creación del Modelo de Dominio Paso a Paso según "UML y Patrones"

**Paso 1: Comenzar con los Casos de Uso (Capítulo 10)**

- **Enfoque en la Iteración:** El modelado del dominio no busca ser exhaustivo desde el principio. Se centra en los casos de uso y escenarios que se están desarrollando en la iteración actual.
- **Caso de Uso Principal:** En el caso de NuevaEra, el caso de uso principal es "Procesar Venta".
- **Identificar Conceptos Clave:** Se analizan los casos de uso para identificar las clases conceptuales más importantes.

**Paso 2: Aplicar Técnicas de Identificación (Capítulo 10)**

- **Lista de Categorías:** Se pueden utilizar listas predefinidas de categorías comunes en los sistemas de información, como "transacciones", "roles de usuario", "eventos externos", para guiar la identificación de clases conceptuales. Por ejemplo, la categoría "transacciones" puede llevar a identificar la clase `Venta`.
- **Identificación de Frases Nominales:** Se examinan las descripciones de los casos de uso, buscando frases nominales que puedan representar clases conceptuales. Por ejemplo, la frase "El Cajero introduce la cantidad..." sugiere las clases `Cajero` y `cantidad`.
- **Ejemplo:** Aplicando estas técnicas al caso de uso "Procesar Venta", se podrían identificar clases como `Venta`, `Registro`, `Artículo`, `Pago`, `Cajero`, `Cliente`.

**Paso 3: Crear un Diagrama de Clases UML (Capítulo 10)**

- **Representación Visual:** Se utiliza un diagrama de clases UML para representar las clases conceptuales identificadas.
- **Notaciones:** Se utilizan rectángulos para representar las clases, escribiendo el nombre de la clase dentro del rectángulo.

**Paso 4: Añadir Asociaciones Relevantes (Capítulo 11)**

- **Relaciones Necesito-Conocer:** Se priorizan las asociaciones que reflejan relaciones "necesito-conocer", es decir, relaciones que el sistema necesita recordar para funcionar correctamente.
- **Ejemplo:** En el caso de NuevaEra, se podrían establecer asociaciones como "Registra" entre `Registro` y `Venta`, indicando que un registro almacena información sobre las ventas.
- **Nombres Claros:** Se utilizan nombres concisos y descriptivos para las asociaciones, preferiblemente verbos que indiquen la relación entre las clases.

**Paso 5: Incorporar Atributos Esenciales (Capítulo 12)**

- **Información Relevante:** Se añaden atributos a las clases para representar la información esencial que el sistema necesita almacenar.
- **Ejemplo:** La clase `Venta` podría tener atributos como `fecha`, `hora` y `total`.
- **Evitar Claves Foráneas:** En el modelo de dominio, se evita el uso de atributos como claves foráneas para representar relaciones entre clases. Se utilizan asociaciones para este propósito.

**Paso 6: Refinar con Contratos de Operaciones (Capítulo 13)**

- **Comportamiento del Sistema:** Se definen contratos de operaciones para describir el comportamiento del sistema en respuesta a eventos.
- **Pre y Postcondiciones:** Cada contrato incluye pre y postcondiciones que especifican las condiciones que deben cumplirse antes y después de la ejecución de la operación.
- **Descubrimiento de Nuevas Clases:** El análisis de las postcondiciones puede revelar la necesidad de nuevas clases conceptuales, atributos o asociaciones que no se identificaron inicialmente.
- **Ejemplo:** Al definir el contrato para la operación "finalizarVenta", se podría descubrir la necesidad de una clase `LibroMayorDeVentas` para registrar las ventas completadas.

**Paso 7: Refinamiento Continuo (Capítulos 14-17)**

- **Proceso Iterativo:** El modelo de dominio no es estático y se refina continuamente a medida que se avanza en el diseño y la implementación del sistema.
- **Nuevos Descubrimientos:** Durante el diseño de interacciones y la aplicación de patrones de diseño, pueden surgir nuevos conceptos o relaciones que requieran la actualización del modelo de dominio.
- **Ejemplo:** Al diseñar la interacción para el caso de uso "Procesar Devolución", se podría identificar la necesidad de una clase `Devolución` y su relación con `Venta`.

**Paso 8: Buscar una Correspondencia Cercana con el Diseño (Capítulo 17)**

- **Clases de Software:** El modelo de dominio sirve como inspiración para la creación de las clases de software en la capa del dominio del modelo de diseño.
- **Reducir el Salto de Representación:** Se busca una correspondencia cercana entre los nombres y las relaciones de las clases conceptuales en el modelo de dominio y las clases de software en el modelo de diseño, para facilitar la comprensión y el mantenimiento del sistema.

**En Resumen:**
El proceso de creación de un modelo de dominio según "UML y Patrones" es iterativo y evolutivo. Comienza con los casos de uso, aplica técnicas de identificación, se representa visualmente con un diagrama de clases UML y se refina continuamente a través de contratos de operaciones, diseño de interacciones y la aplicación de patrones de diseño. El objetivo final es un modelo de dominio que represente con precisión los conceptos clave del dominio del problema y que sirva como base sólida para el diseño e implementación del sistema.

## Enumeraciones, Atributos Calculados y Otros Detalles en el Modelado de Dominio

### Enums: Claridad y Restricción en Atributos

Las **enumeraciones** (o enums) se usan para definir un **conjunto finito de valores válidos para un atributo**. Aunque no se mencionan explícitamente en las fuentes, son un concepto fundamental en el diseño de software orientado a objetos.

Imagina que en nuestro sistema veterinario, la clase "Mascota" tiene un atributo "Sexo". En lugar de usar un campo de texto libre (que podría llevar a inconsistencias como "Macho", "Masculino", "M", etc.), un enum llamado "Sexo" con valores predefinidos como `Macho` y `Hembra` mejoraría el modelo.

**Beneficios Principales:**

- **Claridad y Legibilidad:** Hacen que el modelo sea más comprensible, ya que los valores permitidos están definidos de manera explícita.
- **Reducción de Errores:** Limitan los valores que un atributo puede tomar, evitando errores por datos inconsistentes o inválidos.
- **Mejor Implementación:** Facilitan la validación de datos en bases de datos y en el código.