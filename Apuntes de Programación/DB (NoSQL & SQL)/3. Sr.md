### SQL (MySQL)

1) ¿Qué es el particionamiento de tablas en MySQL y cuándo se debe utilizar?  
El particionamiento divide una tabla en partes más pequeñas llamadas particiones, que pueden ser gestionadas y consultadas más eficientemente, ideal para tablas con gran cantidad de datos.

2) ¿Cómo optimizarías una base de datos con miles de millones de registros?  
Implementar particionamiento, optimizar índices, utilizar vistas materializadas y configurar adecuadamente el almacenamiento y la memoria caché.

3) ¿Cómo se maneja la consistencia en una base de datos MySQL replicada?  
MySQL soporta replicación asincrónica, semisíncrona y síncrona. La consistencia se garantiza configurando el `write concern` y utilizando réplicas maestras y esclavas para gestionar la latencia.

4) ¿Qué es un bloqueo de nivel de fila frente a un bloqueo de nivel de tabla en MySQL?  
El bloqueo de nivel de fila impide que otras transacciones modifiquen o lean una fila específica, mientras que el bloqueo de nivel de tabla bloquea todas las filas de una tabla durante la transacción.

5) ¿Qué problemas resuelve la serialización de transacciones y cómo afecta el rendimiento?  
La serialización garantiza que las transacciones se ejecuten de manera que los resultados sean consistentes, pero puede afectar el rendimiento debido a la mayor latencia y menor concurrencia.

6) ¿Qué es una consulta de ejecución retardada (delayed query) en MySQL y cuándo se utiliza?  
Una consulta retardada inserta datos en segundo plano para mejorar el rendimiento en inserciones masivas, evitando que las operaciones de escritura bloqueen el procesamiento.

7) ¿Cómo gestionas las deadlocks en una base de datos MySQL?  
Se deben optimizar las transacciones para que soliciten los mismos recursos en el mismo orden y reducir el tiempo de retención de bloqueos para evitar conflictos.

8) ¿Cómo se diseñaría un sistema altamente disponible con MySQL?  
Se implementaría replicación maestro-esclavo o maestro-maestro, con balanceo de carga y monitoreo de salud de los nodos para asegurar la disponibilidad y tolerancia a fallos.

9) ¿Qué es una vista materializada y cómo se diferencia de una vista normal en MySQL?  
Una vista materializada almacena físicamente los resultados de la consulta, mejorando el rendimiento de las consultas repetidas, mientras que una vista normal ejecuta la consulta cada vez que se accede a ella.

10) ¿Cómo se pueden evitar los puntos calientes en el particionamiento de tablas en MySQL?  
Distribuyendo los datos de manera uniforme entre las particiones y asegurando que las consultas no se concentren en una sola partición mediante el uso de particionamiento por rango o hash.

11) ¿Qué es el análisis de planos de consulta (`EXPLAIN`) y cómo se utiliza para optimizar consultas?  
El análisis de planos de consulta (`EXPLAIN`) muestra cómo el motor de MySQL ejecutará una consulta, revelando el uso de índices, uniones y filtrado, lo que ayuda a identificar cuellos de botella en el rendimiento.

12) ¿Cómo afecta el uso de índices a las operaciones de escritura en MySQL?  
Los índices mejoran el rendimiento de las consultas de lectura, pero pueden ralentizar las operaciones de escritura como `INSERT`, `UPDATE` y `DELETE`, ya que deben actualizarse cada vez que los datos cambian.

13) ¿Qué es el control de concurrencia multiversión (MVCC) en MySQL?  
MVCC permite que varias transacciones accedan simultáneamente a los datos sin bloquearse entre sí, proporcionando lecturas consistentes sin bloquear las operaciones de escritura.

14) ¿Cómo manejas el crecimiento exponencial de una base de datos en términos de almacenamiento y rendimiento?  
Se puede utilizar particionamiento, optimización de índices, vistas materializadas, reducción de datos históricos mediante archivado, y escalado horizontal con replicación o sharding.

15) ¿Qué problemas pueden surgir al utilizar `GROUP BY` en grandes tablas y cómo se pueden mitigar?  
Las consultas `GROUP BY` pueden ser lentas en grandes tablas, ya que requieren ordenar y agrupar los datos. Se puede mitigar usando índices compuestos y optimizando la memoria asignada al servidor.

---

### NoSQL (MongoDB)

16) ¿Cómo optimizarías el rendimiento de una consulta de agregación compleja en MongoDB?  
Utilizarías índices adecuados, el framework de agregación con `pipelines`, y reducirías los datos innecesarios lo antes posible en el `pipeline` para minimizar el procesamiento.

17) ¿Qué estrategias de particionamiento (sharding) implementarías para una base de datos MongoDB con un volumen masivo de datos?  
Elegirías una clave de fragmentación adecuada que distribuya uniformemente los datos entre los shards y evitarías puntos calientes. Utilizarías particionamiento por rango o por hash según el patrón de acceso a los datos.

18) ¿Qué es la estrategia de `read preference` en MongoDB y cómo se utiliza en una configuración con réplicas?  
`Read preference` define desde qué nodo de un conjunto de réplicas se leen los datos. Se puede usar para distribuir las lecturas entre nodos primarios y secundarios, equilibrando la carga y mejorando el rendimiento.

19) ¿Cómo manejarías la inconsistencia eventual en un sistema distribuido de MongoDB?  
Diseñarías tu aplicación para tolerar lecturas temporales inconsistentes, utilizando mecanismos como `read concern` y configurando adecuadamente la replicación según las necesidades de consistencia.

20) ¿Cómo optimizar el rendimiento de las escrituras en MongoDB en un entorno de alta carga?  
Se puede ajustar el `write concern` para evitar esperas innecesarias, utilizar particionamiento para distribuir la carga de escritura y ajustar la configuración de los índices para reducir la sobrecarga de escrituras.

21) ¿Qué consideraciones tomarías en cuenta al elegir una clave de partición (`shard key`) en MongoDB?  
Debe distribuir uniformemente los datos y la carga entre los shards, evitando puntos calientes. Además, la clave debe ser frecuente en las consultas para evitar redireccionamientos innecesarios entre shards.

22) ¿Cómo se gestionan las transacciones en MongoDB y qué limitaciones tienen en comparación con las bases de datos relacionales?  
Las transacciones en MongoDB permiten operaciones atómicas en múltiples documentos o colecciones, pero pueden tener un rendimiento inferior en comparación con transacciones relacionales debido a la falta de bloqueo a nivel de tabla.

23) ¿Cómo manejarías la escalabilidad horizontal en MongoDB para una aplicación global con múltiples zonas horarias?  
Utilizaría `sharding` para distribuir los datos geográficamente, con shards en diferentes centros de datos, y configuraría las réplicas para optimizar las lecturas locales y minimizar la latencia.

24) ¿Qué es una `replica set` en MongoDB y cómo se utiliza para asegurar alta disponibilidad?  
Un `replica set` es un grupo de instancias de MongoDB que replican datos entre sí para asegurar la redundancia y alta disponibilidad. Si el nodo primario falla, uno de los nodos secundarios asume automáticamente el rol de primario.

25) ¿Cómo manejarías el almacenamiento de grandes archivos en MongoDB?  
Utilizaría GridFS, un sistema de almacenamiento distribuido que permite dividir y almacenar archivos grandes en múltiples fragmentos dentro de MongoDB.

26) ¿Qué es la agregación en tiempo real en MongoDB y cómo se puede lograr?  
Se puede lograr mediante el uso de `change streams`, que permiten reaccionar a los cambios en tiempo real en los datos de MongoDB sin la necesidad de consultas periódicas.

27) ¿Cómo se puede mejorar el rendimiento de la replicación en un conjunto de réplicas de MongoDB?  
Ajustando la configuración del `write concern` y `read concern`, optimizando las redes y hardware, y ajustando la configuración del tamaño del búfer de replicación para garantizar la transferencia eficiente de datos.

28) ¿Qué diferencias hay entre `replica sets` y `sharding` en MongoDB?  
Los `replica sets` proporcionan alta disponibilidad y redundancia mediante la replicación de datos entre nodos, mientras que el `sharding` distribuye los datos entre múltiples servidores para mejorar la escalabilidad y el rendimiento.

29) ¿Cómo se maneja el versionado de esquemas en MongoDB sin causar interrupciones en la aplicación?  
Se puede implementar un enfoque de migración progresiva en el que los nuevos documentos usen el esquema actualizado y los documentos antiguos se migren gradualmente a medida que se acceden a ellos.

30) ¿Qué consideraciones tomarías al migrar una base de datos relacional a MongoDB?  
Debes identificar qué datos se beneficiarán de un modelo de documentos, rediseñar el esquema para aprovechar la flexibilidad de MongoDB, y tener en cuenta las diferencias en consistencia, atomicidad y transacciones.
